(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d356660"],{"22f6":function(t,i,e){},8389:function(t,i,e){},c5d5:function(t,i,e){"use strict";var o=e("8389"),n=e.n(o);n.a},d29a:function(t,i,e){"use strict";var o=e("22f6"),n=e.n(o);n.a},dc48:function(t,i,e){"use strict";e.r(i);var o=function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("div",[o("baseNavigation",{attrs:{rightIcon:"",title:t.$t("fieldConfiguration.title")}}),o("van-list",{attrs:{finished:t.finished,"finished-text":""},on:{load:t.onLoad},model:{value:t.loading,callback:function(i){t.loading=i},expression:"loading"}},t._l(t.modules,(function(i){return o("van-cell",{key:i.facmmodModule,attrs:{center:"","is-link":""},on:{click:function(e){return t.cellClick(i)}},scopedSlots:t._u([{key:"title",fn:function(){return[o("div",{staticClass:"custom-title"},[o("span",[t._v(t._s(i.facmmodName))])]),o("div",{staticClass:"custom-value"},[o("span",[t._v(t._s(t.$t("fieldConfiguration.set")+i.facmmodName+t.$t("fieldConfiguration.info")))])])]},proxy:!0}],null,!0)})})),1),o("van-image",{staticClass:"img",attrs:{src:e("cf05")}}),o("van-popup",{style:{width:"100%",height:"100%",backgroundColor:"#F7F7F7"},attrs:{position:"right"},model:{value:t.popupshow,callback:function(i){t.popupshow=i},expression:"popupshow"}},[t.popupshow?o("fieldConfiguration",{attrs:{detail:t.detail},on:{onClickLeft:t.onClickLeft}}):t._e()],1)],1)},n=[],a=(e("ac6a"),function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("baseNavigation",{attrs:{rightIcon:"",title:t.detail.title},on:{onClickLeft:t.onClickLeft}}),e("div",{style:{height:t.height+"PX",overflow:"auto"}},[e("van-checkbox-group",{attrs:{max:t.maxNum},model:{value:t.result,callback:function(i){t.result=i},expression:"result"}},[e("van-cell-group",t._l(t.list,(function(i,o){return e("van-cell",{key:i.id,attrs:{clickable:"",title:i.name},on:{click:function(e){return t.toggle(i,o)}},scopedSlots:t._u([{key:"right-icon",fn:function(){return[e("van-checkbox",{ref:"checkboxes",refInFor:!0,attrs:{"checked-color":!0===i.fixed?"yellow":"rgb(251, 205, 5)",name:i.id},on:{click:function(e){return t.click(i,o)}}})]},proxy:!0}],null,!0)})})),1)],1)],1),e("van-button",{staticClass:"infoBtn",attrs:{round:"",color:"#fff",size:"large"},scopedSlots:t._u([{key:"default",fn:function(){return[e("div",{staticClass:"custom-title"},["storage_0015"===t.moduleid?e("span",{staticStyle:{color:"#000"}},[t._v("最多只能选择2项")]):e("span",{staticStyle:{color:"#000"}},[t._v(" "+t._s(t.$t("fieldConfiguration.info1")))])])]},proxy:!0}])}),e("van-button",{staticClass:"saveBtn",attrs:{type:"primary",block:"",color:"rgb(251, 205, 5)"},on:{click:function(i){return t.save()}}},[t._v("保存")])],1)}),l=[],s=(e("d263"),e("d399")),c={name:"fieldConfiguration",props:{detail:{type:Object}},data:function(){return{fixed:[],maxNum:0,height:0,result:[],list:[],moduleid:""}},methods:{init:function(){var t=this,i=this.detail.moduleid;this.moduleid=i;var e=this.detail.relmoduleid;this.fixed=[],this.result=[],"storage_0015"===this.moduleid?this.maxNum=2:this.maxNum=4,this.$ajax("/auth/mres/getallcol","",{moduleid:i,pcmoduleid:e},(function(i){t.list=i.data.data,t.list.forEach((function(i){!0===i.fixed?(t.fixed.push(i.id),t.maxNum+=1,t.result.push(i.id)):!0===i.checked&&t.result.push(i.id)}))}))},click:function(t,i){!0===t.fixed&&this.$refs.checkboxes[i].toggle()},toggle:function(t,i){!0!==t.fixed&&this.$refs.checkboxes[i].toggle()},onClickLeft:function(t){t.flag=!1,this.$emit("onClickLeft")},save:function(){var t=this,i=[];this.result.forEach((function(e){-1===t.fixed.indexOf(e)&&i.push(e)}));var e={list:i,moduleid:this.detail.moduleid};this.$ajax("/auth/mres/savecol","",e,(function(){s["a"].success(t.$t("base.save")),t.init()}))}},created:function(){this.height=window.innerHeight-75-42-10-42-20,this.init()}},u=c,d=(e("c5d5"),e("2877")),r=Object(d["a"])(u,a,l,!1,null,"596db888",null),f=r.exports,h={components:{fieldConfiguration:f},name:"paramSetting",data:function(){return{loading:!1,finished:!0,popupshow:!1,modules:[],detail:{title:"",moduleid:"",relmoduleid:""},noShowList:["nest_0005","nest_0004"]}},methods:{onLoad:function(){},cellClick:function(t){this.detail.title=t.facmmodName,this.detail.moduleid=t.facmmodModule,this.detail.relmoduleid=t.facmmodRelmodule,this.popupshow=!0},onClickLeft:function(){this.popupshow=!1}},created:function(){var t=this;this.$ajax("/auth/sysfacmmod/getallmodules","",{},(function(i){var e=[],o=i.data.data;o.forEach((function(i){2===i.facmmodType&&i.facmmodRelmodule&&-1===t.noShowList.indexOf(i.facmmodModule)&&e.push(i)})),t.modules=e}))}},m=h,p=(e("d29a"),Object(d["a"])(m,o,n,!1,null,"fe69adfe",null));i["default"]=p.exports}}]);