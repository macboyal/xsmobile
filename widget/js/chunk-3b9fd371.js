(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b9fd371"],{3601:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAVFJREFUOE/VVK9Pw2AQfdeSBUWmMCgkqEmm+jWEEP4AMJhWYFhCyNoNQ8IMgv0iIUEhvhoUBocgZF/V9MwsCoVDkYX2yJZ1axsCadjEzt3l8u7Xu0eYsdGM8TABtERDaNC3GNidFuF3qZyDyLfEdV5DeMGgQqyRHiN49FRFDWMTQFu07gjYCBGex7uOEqeg9QJA+cgn1i5B6EvlHKUA2x1G4HuqUsuyBks0agTdkKpsLhigZTR3aAlv8sXtZxnZ3m5u8hfWPN99ToycBeS33NGVh1UQaLf/AtXD0nC6OA/H19UYCFOE/ymWLB+xY36fYpvNKof06vnOQ5bRLaO1Txqvy45bXzAe2mLWr2e0rkCoAjRSjbH1pCqfxnca/W5MkQQYdek7Z4kdHu7drOQ+B0VmLqbUJiEWltk+BgerE7Uh6g6Wc937p5OP+X1KFpr8lfsNKe+lFe3PHB8AAAAASUVORK5CYII="},4582:function(t,e,a){},"73dc":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAA2VJREFUWEfNlztoFFEUhv9zZwsjQcFCZ+7sgCJaaCM+UBIQBUVQUQtfCBJBCxG0stLCWGhj4eK78I0gRhEExVehoIiCgiLaSBB2M3N3FZuQWM3MkRtm1911HpkYiQMhy9w593znec8lTPBDefVXKpUVhmGsBjADgBnJVwHUgiB46jjO8zx7jgqgWq3OCoKgRwixmZnnpykgok8AbhPRddM0v2bBpAIopeYB2MvMPQCmZG3Wtj5IRNcAXLAs63OSbCJApLwvy+IsqMgjW5MgYgHGS3kdLg3iD4DxVp4F0QLwr5SnQbQDnGLm/VlxzVonoltEVAKwJAzDU83fE9Fpy7IONKDqP3SphWH4fgzZ3rz/CwAlKeVd/VIptY+Zz7ZXhxBiQb1EGx5wXbeXiI5kWZew3k9EJy3LGlGmlNJZ3+d53jMAK9pliKjXsqyj+n0DwPO8twAW5QT4qS3W7rYs67vruguJ6AYRndHNiJm/Jez3Tkq5uAFQqVSWGobxOo9yZr7KzKVisfihv79/akdHh246GwH8MAxjaRiGa2Lc31ARBMEyx3HejHjA87xjAA6NEuBxFOdH+nvXdU8Q0cEm2RtSyp2e5z0BoM+MpOe4lPJwHeAigN1pAMz8USu2bftyBL0XwPkYmZ1E9DjF/XWRS1LKPXWA+wDWJQD8AHBSCFEyTXO4Vqut9n3/KhHJmO+HiWgWgC1p7o/kHkgp16cCENE53/dLjuN8KZfLswuFgrZ+eYqnrkspe1zXvUdEGzJC2gIQF4LnUsqVepNardbl+343EXUB0H/T4zZn5k1CiFfMXAYwKQOgJQSxScjMfQBeMPPLYrGom5RO2MnM3A1AAzX6BhH5Q0NDnZ2dnTuYeSRPMp7fSTjKMtSDhu50L/V/KWVZKXWFmXdpRRrWtu1tSqmbzLw9S3tLGUaW5WpEhUJhThAEPjPrbjeTmY8KIfT8oCGnZQC0NqKonvO24odSyrUDAwO7hBBXsixuXtewtm336neNVjyWw0gIccA0zdPNoRgFyGDsYaQFlVK5j+P2UGQBJB7HEYAeQvPOgSOhqFar+9vP/naYuNFsXEYyZj4HYBURzU3yQNJc+P8NpXULxms+HNNY3gYxMReT5ljmvZqFYXjHMIxrf301i0uoCbmcZtX236z/AlpH0TAU0u+4AAAAAElFTkSuQmCC"},"7d32":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("basePage",{ref:"basePage",attrs:{title:"程序派发设备",selectItems:t.selectItems,btnMethod:t.btnMethod,footerText:t.footerText,buttons:t.buttons,extIcon:a("73dc"),tableCondition:t.tableCondition,fixedQueryConditions:t.fixedQueryConditions,cascadeItems:t.cascadeItems},on:{afterquery:t.afterquery,beforecheckall:t.beforecheckall},scopedSlots:t._u([{key:"card",fn:function(t){var e=t.slotProps;return[n("card",{attrs:{data:e.data,cardField:e.cardField,selectItems:e.selectItems},on:{openDetail:e.openDetail}})]}},{key:"over",fn:function(){return[n("van-row",{staticStyle:{background:"white",height:"100%"},attrs:{type:"flex"}},[n("van-col",{attrs:{span:"16"}},[n("van-search",{staticStyle:{"font-size":"12px"},attrs:{shape:"round",placeholder:"请输入程序号检索"},scopedSlots:t._u([{key:"right-icon",fn:function(){return[n("van-icon",{attrs:{name:a("3601"),size:"20"}})]},proxy:!0}]),model:{value:t.proCode,callback:function(e){t.proCode=e},expression:"proCode"}})],1),n("van-col",{staticStyle:{"text-align":"right",height:"100%",display:"flex","justify-content":"flex-end",margin:"auto","font-size":"16px",color:"#666666","padding-right":"5px"},attrs:{span:"8"}},[t._v("\n          总数量："+t._s(t.totalNum)+"\n        ")])],1)]},proxy:!0},{key:"foot",fn:function(){return[n("van-row",{staticStyle:{background:"white",height:"100%"},attrs:{type:"flex"}},[n("van-col",{staticStyle:{height:"100%","line-height":"50px"},attrs:{span:"5"}},[n("van-checkbox",{staticStyle:{height:"100%","padding-left":"5px","font-size":"16px"},attrs:{"icon-size":"20px","checked-color":"#fbcd05"},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}},[t._v("全选\n          ")])],1),n("van-col",{staticStyle:{height:"100%","line-height":"50px","font-size":"16px"},attrs:{span:"5"}},[n("span",{staticStyle:{height:"100%"}},[t._v("数量:"+t._s(t.checkNum))])]),n("van-col",{staticStyle:{height:"100%","line-height":"50px","font-size":"16px",overflow:"hidden"},attrs:{span:"9"}},[n("span",{staticStyle:{height:"100%","white-space":"nowrap"}},[t._v("预计时长: 1h35m")])]),n("van-col",{staticStyle:{height:"100%","font-size":"16px",overflow:"hidden"},attrs:{span:"5"}},[n("van-button",{staticStyle:{width:"80%",height:"30PX","margin-top":"10PX"},attrs:{color:"#fbce08",size:"small"}},[t._v("派发")])],1)],1)]},proxy:!0}])})],1)},c=[],i=(a("ac6a"),a("75fc")),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card",style:{"background-color":t.data.color}},[a("van-row",{staticClass:"header",style:{borderBottom:t.data.color?"1px dashed #f7f7f7":"1px dashed #DCDCDC"}},[a("van-checkbox",{ref:"checkbox",staticStyle:{overflow:"auto",float:"bottom","font-size":"0.8rem"},attrs:{"checked-color":"rgb(251, 205, 5)","icon-size":"0.8rem"},on:{click:function(e){return t.checkboxclick(t.checked)}},scopedSlots:t._u([{key:"default",fn:function(){return[a("span",{staticClass:"fixed1"},[t._v("\n          程序名称\n        ")]),a("span",{staticClass:"fixed1text"},[t._v("\n         "+t._s(t.data["proName"])+"\n        ")]),a("span",{staticClass:"fixed2"},[t._v("\n            利用率: "+t._s(t.data["proUsedraterem"].toFixed(2))+"%\n        ")])]},proxy:!0}]),model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}})],1),a("div",{staticClass:"body"},[a("van-row",{staticStyle:{"vertical-align":"middle","align-items":"center",display:"flex"}},[a("van-col",{attrs:{span:"19"}},t._l(t.cardField,(function(e){return a("van-row",{key:e.key,attrs:{align:"center"}},[a("van-col",{attrs:{span:"9"}},[a("span",{staticClass:"cardtitle"},[t._v(t._s(e.name))])]),a("van-col",{staticStyle:{overflow:"hidden","text-overflow":"ellipsis"},attrs:{span:"15"}},["input"===e.type?a("span",{staticClass:"cardtext"},[t._v(" "+t._s(t.data[e.key]))]):"number"===e.type?a("span",{staticClass:"cardtext"},[t._v(" "+t._s(t.fomatFloat(e.key,t.data[e.key])))]):"cascader"===e.type?a("span",{staticClass:"cardtext"},[t._v("  "+t._s(t.tableKV[e.key]?t.tableKV[e.key][t.data[e.key]]:t.data[e.key]))]):"select"!==e.type||t.tableKC[e.key][t.data[e.key]]?"select"===e.type&&t.tableKC[e.key][t.data[e.key]]?[a("van-tag",{staticClass:"cardtext",attrs:{color:t.tableKC[e.key][t.data[e.key]]}},[t._v(" "+t._s(t.tableKV[e.key]?t.tableKV[e.key][t.data[e.key]]:t.data[e.key])+"\n              ")])]:a("span",{staticClass:"cardtext"},[t._v(" "+t._s(t.data[e.key]))]):[a("span",{staticClass:"cardtext"},[t._v("\n                "+t._s(t.tableKV[e.key]?t.tableKV[e.key][t.data[e.key]]:t.data[e.key])+"\n              ")])]],2)],1)})),1),a("van-col",{attrs:{span:"5"}},[a("van-row",[a("van-button",{staticStyle:{width:"100%"},attrs:{color:"#fbce08",size:"mini"}},[t._v("套料图")])],1),a("van-row",[a("van-button",{staticStyle:{width:"100%"},attrs:{color:"#fbce08",size:"mini"}},[t._v("NC")])],1),a("van-row",[a("van-button",{staticStyle:{width:"100%"},attrs:{color:"#fbce08",size:"mini"}},[t._v("明细")])],1)],1)],1)],1),a("div",{staticClass:"foot",staticStyle:{"border-top":"1px solid  #ebebeb"}},[a("van-row",[a("van-col",{staticStyle:{"white-space":"nowrap"},attrs:{span:"4"}},[a("div",{staticClass:"fixed3"},[t._v("\n          计划完工时间:"+t._s(t.data["selEndtime"])+"\n        ")])]),a("van-col",{attrs:{span:"20"}},[a("van-button",{staticClass:"detailbutton",attrs:{size:"small",plain:""},on:{click:t.openDetail}},[t._v("查看详情 >\n        ")])],1)],1)],1)],1)},s=[],r=(a("7f7f"),a("456d"),a("7618")),l=a("02df"),d={name:"card",props:{baseUrl:{type:String,default:function(){return""}},numberCol:{type:Object,default:function(){return{}}},primaryKeyValue:{type:String,default:function(){return""}},selectItems:{type:Object,default:function(){return{}}},data:{type:Object,default:function(){return{}}},cardField:{type:Array,default:function(){return[]}}},data:function(){return{checked:!1}},methods:{fomatFloat:function(t,e){if(void 0!==e&&""!==e&&null!==e){var a=2;return a=this.numberCol[t]?this.numberCol[t]:l["a"].getAccuracy("4"),"string"==typeof a?l["a"].formTime(a,e):Math.round(e*Math.pow(10,a))/Math.pow(10,a)}},footIconClick:function(){this.$emit("footIconClick",this.data)},getPrimaryKeyValue:function(){return this.primaryKeyValue},btnclick:function(t){this.$emit("cardbtnclick",t,this.data)},openDetail:function(){this.$emit("openDetail",this.data)},checkboxclick:function(t){this.$emit("checkboxclick",t,this.primaryKeyValue,this.data)},click:function(){this.$emit("click")}},computed:{tableKV:function(){var t=this,e={};return Object.keys(this.selectItems).forEach((function(a){if(t.selectItems[a]&&"object"==Object(r["a"])(t.selectItems[a])){var n={};t.selectItems[a].forEach((function(t){n[t.id]=t.name})),e[a]=n}})),e},tableKC:function(){var t=this,e={};return Object.keys(this.selectItems).forEach((function(a){if(t.selectItems[a]&&"object"==Object(r["a"])(t.selectItems[a])){var n={};t.selectItems[a].forEach((function(t){t.color&&(n[t.id]=t.color)})),e[a]=n}})),e}},created:function(){var t=this.data.checked;t&&(this.checked=!0)}},u=d,h=(a("c699"),a("2877")),p=Object(h["a"])(u,o,s,!1,null,"54fb6277",null),f=p.exports,m={name:"devicearrange",components:{Card:f},data:function(){return{proCode:"",selectItems:{woEquipmentId:[],materialReady:[{id:0,name:"未备料",color:"red"},{id:1,name:"部分备料",color:"yellow"},{id:2,name:"已备料",color:"green"}],overdue:[{id:0,name:"未超期",color:"green"},{id:1,name:"超期",color:"red"}],proMattype:[],woTeamId:[]},cascadeItems:{woTeamId:[]},btnMethod:{querymethod:"/nest/cutworkorder/autopage"},fixedQueryConditions:[{key:"woTeamId",exp:"<>",value:"N/A"},{key:"woAbortStatus",exp:"=",value:"0"}],footerText:[{key:"num",display:"数量",value:0},{key:"time",display:"预计时长",value:"1h35m"}],tableCondition:[{col:"matPublicStatus",value:"0"},{col:"woEquipmentId",value:"N/A"}],buttons:[{key:"distribute",name:"派发"}],totalNum:200,checkAll:!1}},methods:{initSelect:function(){var t=this;this.$ajax("/common/comequipment/getequipmentbycuruser","",{},(function(e){var a=[],n={id:"N/A",name:"未派发"};a.push(n);var c=e.data.data;c.forEach((function(t){var e={id:t.id,name:t.equipmentName};a.push(e)})),t.selectItems.woEquipmentId=a})),this.selectItems.proMattype=l["a"].getDict("WMS_MAT_TYPE"),this.$ajax("/common/comteam/treelistgroupbydep","",{teamType:0},(function(e){var a,n=[],c={id:"N/A",name:"未派发",checkable:!0};n.push(c),n.push.apply(n,Object(i["a"])(t.cascadehandler(e.data.data))),(a=t.cascadeItems.woTeamId).push.apply(a,n)})),this.$ajax("/common/comteam/getteambytype","",{teamType:0},(function(e){var a=[],n={id:"N/A",name:"未派发"};a.push(n);var c=e.data.data;c.forEach((function(t){var e={id:t.id,name:t.teamName};a.push(e)})),t.selectItems.woTeamId=a}))},cascadehandler:function(t){var e=this,a=[];return t.forEach((function(t){var n={checkable:!0,id:t.value,name:t.label};t.children&&(n.children=e.cascadehandler(t.children)),a.push(n)})),a},afterquery:function(t){t.records.forEach((function(t){t.zhzd=t.proThickness+"*"+t.proWidth+"*"+t.proLength}))},beforecheckall:function(t){t.flag=!1;var e=this.$refs.basePage.$refs.baseList.$refs.list.$children[0].$children;this.$refs.basePage.ischeckall()?e.forEach((function(t){t.checked=!0})):e.forEach((function(t){t.checked=!1}))}},created:function(){this.initSelect()}},y=m,v=(a("8ee6"),Object(h["a"])(y,n,c,!1,null,"b990f59a",null));e["default"]=v.exports},"8ee6":function(t,e,a){"use strict";var n=a("4582"),c=a.n(n);c.a},c100:function(t,e,a){},c699:function(t,e,a){"use strict";var n=a("c100"),c=a.n(n);c.a}}]);